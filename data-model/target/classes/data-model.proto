package streaming.data.model;

/**
 * @Indexed
 */
message TrainPosition {

    /**
     * @Field(store = Store.YES)
     */
    required Train train = 1;

    /**
     * @Field(store = Store.YES)
     */
    required GeoLocation position = 2;

    /**
     * @Field(store = Store.YES)
     */
    required int32 delayMin = 3;

}

/**
 * @Indexed
 */
message Train {

    /**
     * @Field(store = Store.YES)
     */
    required bytes id = 1;

    /**
     * @Field(store = Store.YES)
     */
    required bytes category = 2;

    /**
     * @Field(store = Store.YES)
     */
    required bytes name = 3;

    /**
     * @Field(store = Store.YES)
     */
    required bytes lastStopName = 4;

}

/**
 * @Indexed
 */
message GeoLocation {

    /**
     * @Field(store = Store.YES)
     */
    required double lat = 1;

    /**
     * @Field(store = Store.YES)
     */
    required double lng = 2;

    /**
     * @Field(store = Store.YES)
     */
    optional double bearing = 3;

}
